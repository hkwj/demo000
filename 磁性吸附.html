<!doctype html>
<html>
<head>
<meta charset="utf-8">
<style>
*{margin:0; padding:0; list-style:none;}
.box{
      width:100px; height:100px; background:#ccc;
      position:absolute; left:0; top:0;
}

</style>

</head>

<body>

<div class="box">
    
</div>



<script>
var oDiv=document.getElementsByTagName('div')[0];
oDiv.onmousedown=function(ev){
      var oEvt=ev||event;
      var disX=oEvt.clientX-oDiv.offsetLeft;
      var disY=oEvt.clientY-oDiv.offsetTop;
      document.onmousemove=function(ev){
            var oEvt=ev||event;
            var l=oEvt.clientX-disX;
            var t=oEvt.clientY-disY;

            if(l<20) l=0;
            if(t<20) t=0;
            if(l>document.documentElement.clientWidth-oDiv.offsetWidth-20){
                  l=document.documentElement.clientWidth-oDiv.offsetWidth
            };
            if(t>document.documentElement.clientHeight-oDiv.offsetHeight-20){
                  t=document.documentElement.clientHeight-oDiv.offsetHeight;
            }

            oDiv.style.left=l+'px';
            oDiv.style.top=t+'px';
      }

      document.onmouseup=function(){
            document.onmousemove=document.onmouseup=null;
            oDiv.releaseCapture && oDiv.releaseCapture();
      }
      oDiv.setCapture && oDiv.setCapture();
      return false;
}



</script>
</body>
</html>
